# GitHub Authentication

GitTasks supports multiple authentication methods for accessing GitHub repositories. This document explains the available options and their setup procedures.

## SSH Key Authentication

GitTasks supports SSH key authentication for secure repository access.

### Automatic Setup (Recommended)

1. Generate SSH key pair within the app
2. Copy the public key
3. Add the public key to your GitHub account (Settings → SSH and GPG keys → New SSH key)
4. Use SSH URLs for repository cloning: `git@github.com:username/repo.git`

### Manual Setup

1. Generate SSH key pair on your computer: `ssh-keygen -t ed25519 -C "your_email@example.com"`
2. Add the public key (`.pub` file) to GitHub
3. Import the private key into GitTasks
4. Clone repositories using SSH URLs

## Personal Access Token (HTTPS)

Use GitHub Personal Access Tokens for HTTPS-based authentication.

### Setup

1. Create a Personal Access Token on GitHub (Settings → Developer settings → Personal access tokens → Tokens (classic))
2. Select appropriate scopes:
   - `repo` - Full control of private repositories
   - `user` - Read user profile data
3. In GitTasks, clone using HTTPS URL: `https://github.com/username/repo.git`
4. When prompted for credentials, use:
   - **Username**: Your GitHub username
   - **Password**: Your personal access token

### Important Notes

- GitHub no longer allows password authentication for git operations
- Personal access tokens must be used instead of passwords
- Tokens can be scoped to specific repositories for better security

## Deploy Keys (Repository-specific SSH)

For enhanced security, you can use deploy keys instead of personal SSH keys.

### Setup

1. **Generate SSH key pair** within GitTasks or externally
2. **Add as deploy key** to specific repositories:
   - Go to repository Settings → Deploy keys → Add deploy key
   - Paste the public key
   - Enable "Allow write access" for push/pull operations
3. **Use SSH URLs** for cloning: `git@github.com:username/repo.git`

### Benefits

- Keys are repository-specific
- Better security than account-wide SSH keys
- Can be configured with read-only or read-write access

## OAuth Authentication

GitTasks uses GitHub OAuth for seamless authentication. This method provides automatic token management but requires granting repository permissions to the app.

### Security & Privacy

**Important:** As the app developer, I have no access to your repositories, tokens, or any of your GitHub data. The OAuth flow works entirely between your device and GitHub's servers:

- OAuth tokens are stored securely on your device only
- All repository operations happen directly between the app and GitHub
- No user data is transmitted to or stored by the developer
- The app only requests the minimum permissions needed for functionality

### Setup Process

1. **Initiate OAuth Flow**: In the app, tap "Sign in with GitHub"
2. **Grant Permissions**: Authorize GitTasks to access your GitHub account
3. **Automatic Setup**: The app handles token exchange and repository access automatically

### Required Permissions

The app requests the `repo` scope, which provides:

- **Full control of private repositories**: Required to list, create, and manage private repositories
- **Read/write access to public repositories**: Allows working with public repositories
- **Deploy key management**: Enables adding SSH keys to repositories for git operations

**Why these permissions are needed:**

- GitTasks needs to list your repositories (including private ones) to let you choose which one to clone
- Creating new repositories programmatically requires repository creation permissions
- Adding SSH deploy keys to repositories requires write access to repository settings
- The app supports both private and public repositories, so full repository access is necessary

### OAuth Screenshots

<table align="center">
  <tr>
    <td align="center">
      <img src="../assets/github_auth_1.png.jpg" width="250" alt="GitHub OAuth authorization screen"/>
      <br>
      <strong>OAuth Authorization</strong><br>
      Grant GitTasks access to your GitHub account
    </td>
    <td align="center">
      <img src="../assets/github_auth_2.png" width="250" alt="Repository selection screen"/>
      <br>
      <strong>Repository Selection</strong><br>
      Choose which GitHub repository to clone and work with
    </td>
  </tr>
</table>

## Security Considerations

- **OAuth tokens** are stored securely and automatically managed by the app
- **SSH keys** generated by the app are stored in the app's secure storage
- **Personal access tokens** should be treated like passwords and kept secure
- **Deploy keys** provide the most granular access control

## Troubleshooting

**OAuth Issues:**

- Ensure your GitHub OAuth app is properly configured with the correct callback URL
- Check that the app has the necessary permissions granted

**SSH Key Issues:**

- Verify the public key is correctly added to GitHub
- Ensure the private key is properly imported into GitTasks
- Test SSH connection: `ssh -T git@github.com`

**Token Issues:**

- Confirm the personal access token has the correct scopes
- Check token expiration date
- Ensure you're using the token as the password (not your actual password)

For additional help, check the [GitHub documentation](https://docs.github.com/en/authentication) or create an issue in the project repository.
